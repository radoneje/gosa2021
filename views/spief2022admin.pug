doctype html
html
    head
        title sber-pb
        <meta charset="UTF-8">
        <meta name="description" content="pb conference">
        <meta name="keywords" content="sber-pb">
        <meta name="author" content="">
        <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0">

        <link href="/favicon.ico" rel="shortcut icon" >

        <meta name="theme-color" content="#ffffff">
        <meta property="og:locale" content="ru_RU">
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://front.sber.link/" />
        meta(property="og:title" content="SPIEF player")
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88562228-1"></script>

        <link href=" /stylesheets/reset.css" rel="stylesheet" />
        <link href=" /lib/video-js.css" rel="stylesheet" />
        <link href=" /stylesheets/style.css" rel="stylesheet" />
        script.
            try{ eval("let a=()=>{;;};")}
            catch (e) {
                console.log(e)
                document.location.href="/badbrowser.html"
            }

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    body(style="padding:20px")
        #app.container
            img.gvozdika(src="images/gvozdika.png")
            .eventWr
                .btn.btn-primary.btn-sm(@click="addEvent()" v-if="!readonly") Add Event
                table.table-bordered.mt-4.small.tabPAd
                    thead
                        tr
                            //td.mobileHide( scope="col") #
                            td дата
                            //td НАЗВАНИЕ СЕССИИ
                            td Модератор:
                            // td Статус:
                            td.mobileHide Источник сигнала:
                            td IFrame:
                            td.mobileHide(v-if="!readonly") запись рус:
                            td.mobileHide(v-if="!readonly") запись англ:

                    tbody
                        tr(v-for="item in events" :class="'adminSelectRow'+item.data.select+' liveStatus'+item.data.status")
                            //td.mobileHide

                            td(v-on:click="changeDate($event, item)")
                                span {{moment(item.date).format('DD.MM')}}
                                spm <br>
                                span {{moment(item.date).format('HH:mm')}}
                                spm -
                                span {{moment(item.dateEnd).format('HH:mm')}}
                            td
                                .tabName
                                    select.mayReadonly(v-model="item.data.select" v-on:change="saveEvent(item)" style="border:none" :disabled="readonly")
                                        option(value="0" selected) новая
                                        option(value="1") подтвержденная
                                        option(value="2") ожидаем
                                        option(value="3") отказ
                                    input.mayReadonly(v-model="item.data.title" style="border:none; padding:4px" v-on:change="saveEvent(item)" :readonly="readonly")

                                input.mayReadonly(v-model="item.data.moderator" style="border:none; padding:4px" v-on:change="saveEvent(item)" :readonly="readonly")
                            td
                                select.form-select.mayReadonly(v-model="item.data.status" v-on:change="saveEvent(item)" style="width: 117px;" :disabled="readonly")
                                    option(value="0" selected) Заглушка
                                    option(value="1") Эфир
                                    option(value="2") Запись
                            td.mobileHide
                                input.mayReadonly(v-model="item.data.source" style="border:none; padding:4px" v-on:change="saveEvent(item)" :readonly="readonly")
                            td
                                div(style="position: relative;")
                                    input.form-control-sm(:value="getIframeRu(item)" style="border:none; padding:4px" readonly="readonly")
                                    .btn-clipboard.btn-clipboard1(v-on:click="copyIFrameRu(item,$event)")  iframe ru
                                    .btn-clipboard(v-on:click="copyIFrameEn(item, $event)") iframe en


                            td.mobileHide(v-if="!readonly")
                                input.mayReadonly(v-model="item.data.recRu" style="border:none; padding:4px" v-on:change="saveEvent(item)")

                            td.mobileHide(v-if="!readonly")
                                input.mayReadonly(v-model="item.data.recEn" style="border:none; padding:4px" v-on:change="saveEvent(item)")
            .iFramesWr

                    .IframesItem(v-for="item in events")
                        .wrapper(v-html="getIframeRu(item)")
                        .iframeItemTile {{item.data.title}}  ru
                    .IframesItem(v-for="item in events")
                        .wrapper(v-html="getIframeEn(item)")
                        .iframeItemTile {{item.data.title}} en

        script.
            var readonly="!{readonly}"=="true"
        script(src="/lib/vue.min.js")
        script(src="/lib/axios.min.js")
        script(src="/lib/moment.min.js")
        script(src="/javascripts/spief2020adminScript.js")




